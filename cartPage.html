<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover the latest trends in fashion for 
    women and men at SA FashionStyle. Shop our wide selection of clothes, bags,
    jewelry, and more. Elevate your style with our curated collections.">
    <meta name="keywords" content="clothes, women, men, fashion, bags, jewelry, SA FashionStyle, latest trends, stylish clothing, accessories">
    <meta name="author" content="SA_FashionStyle">
    <link rel="icon" href="images/logowhite.jpg" type="image/x-icon">
    <!-- css -->
   
    <link rel="stylesheet" href="Style/cartPage.css">
    <link rel="stylesheet" href="Style/main.css">
    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <!-- icon -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <title>SA__FashionStyle</title>
</head>
<body>
    <header class="container" id="header">
        <div class="header_top">
              <div class="header_social">
                <a href="https://www.instagram.com/manmode_fits_?igsh=anRtMTBxd29wN2ho" target="_blank">
                    <ion-icon name="logo-instagram"></ion-icon>
                </a>
                
                <a href="https://chat.whatsapp.com/GuZXe5aPTlKAXLKnvWzPSm" target="_blank">
                    <ion-icon name="logo-whatsapp"></ion-icon>
                </a>
              </div>
              <img src="images/logo_block.jpg" alt="page logo" id="logo">
              <div class="header_actions">
                <div id="display_login">
                  <span id="user_name">Amira</span>
                  <a href="#" id="logout" title="Logout" onclick="logout();">
                   <ion-icon name="log-out-outline"></ion-icon>
                  </a>
                </div>
                <a href="login.html" title="Login" id="login_btn">
                 <ion-icon name="person-circle-outline"></ion-icon>
                </a>
                <a href="#" class="icon-cart">
                  <ion-icon name="cart-outline"></ion-icon>
                  <span id="cart-counter">0</span>
                </a>
           </div>
        </div>
        <nav>
            <menu>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="products.html">Shop</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </menu>
        </nav>
    </header>
    <main class="cart_page">
        <div class="container">
            <h1>Shopping Bag</h1>
             <div class="content">
                <div class="left_side_cart">
                    <div class="cart_title">
                      <h2>My shopping bag <span id="cart_counts"></span></h2>
                    </div>
                    <div class="cart_products">
                      <!-- add cart products in js -->
                    </div>
                 </div>
                 <div class="right_side_cart">
                    <div class="Promotional_code">
                        <h2>
                            Do you have a Promotional Code?
                        </h2>
                        <div class="apply_code">
                            <input type="text" id="code" placeholder="Promo code">
                            <button >Done</button>
                        </div>
                    </div>
                    <div class="customer_info">
                        <h2>Customer Info</h2>
                        <input type="text" id="customer_name" placeholder="Full Name" required>
                        <input type="text" id="customer_address" placeholder="Full Address" required>
                        <select id="payment_method">
                            <option value="COD">Cash on Delivery</option>
                            <option value="Prepaid">Prepaid</option>
                        </select>
                    </div>
                    
                    <div class="summary">
                        <h2>Order Summary</h2>
                        <div class="summary_price">
                            <div> 
                                <h4>Subtotal</h4>
                                <span id="Subtotal"></span>
                            </div>
                            <div class="Delivery">
                                <h4>Delivery</h4>
                                <span id="Delivery">$70.00</span>
                            </div>
                            <div>
                                <h4>Total Order</h4>
                                <span id="total_order"></span>
                            </div>
                        </div>
                        <button class="checkout" onclick="sendOrderViaWhatsApp()" >Check Out</button>
                    </div>
                 </div>
             </div>
        </div>
    </main>

   
    <!-- cart -->
    <div class="cart-section">
        <div class="cart-header">
            <h2>SHOPPING CART</h2>
            <div class="closeCart">
                <ion-icon name="close-outline" id="closeCart"></ion-icon>
            </div>
        </div>
        <div class="cart_products">
         <!-- add cart products in js -->
        </div>
        <div class="cart_total">
            <h3>Total:</h3>
            <span id="total_price"></span>
        </div>
        <div class="btn_control">
            <button class="viewCart" onclick="viewCart();">View Cart</button>
            <button class="checkout" onclick="sendOrderViaWhatsApp();">Check Out</button>
        </div>
    </div>
    <footer class="footer black-footer">
        <div class="footer-top">
           <div class="footer-logo">
               <img src="images/logo_block.jpg" alt="logo" width="140">
               <p>The customer is at the heart of our unique business model, which includes design.</p>
           </div>
           <div class="footer-list">
               <div class="list">
                   <h4>SHOPPING</h4>
                   <ul>
                       <li><a href="#">Clothing Store</a></li>
                       <li><a href="#">Trending Shoes</a></li>
                       <li><a href="#">Accessories</a></li>
                       <li><a href="#">Sale</a></li>
                   </ul>
               </div>
               <div class="list">
                   <h4>Customer Services</h4>
                   <ul>
                       <li><a href="#">Contact Us</a></li>
                       <li><a href="#">Payment Methods</a></li>
                       <li><a href="#">Delivary</a></li>
                       <li><a href="#">Return & Exchanges</a></li>
                   </ul>
               </div>
   
           </div>
        </div>
       <div class="footer-bottom">
           <p class="footer-company-name">
               © 2024 All right reserved.Made with <ion-icon name="heart"></ion-icon>
                by <a href="https://www.upwork.com/freelancers/~01a11a163a8ee98a35" target="_blank" id="author">Amira Alaa</a>
           </p>
       </div>
    </footer>
    <button id="scrollBtn"><ion-icon name="arrow-up-outline" id="btn-up"></ion-icon></button>
    <script src="JavaScript/main.js"></script>
    <script src="JavaScript/cart.js"></script>
</body>
<script>
    window.onload = () => {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const checkoutSummary = document.getElementById("checkout_summary");

    if (cart.length === 0) {
        checkoutSummary.innerHTML = "<p>Your cart is empty.</p>";
        return;
    }

    let summaryHtml = "";
    let total = 0;

    cart.forEach(product => {
        let price = parseFloat(product.price.replace('$', ''));
        let productTotal = price * product.quantity;
        total += productTotal;
        summaryHtml += `
            <div class="checkout_product">
                <img src="${product.images[0]}" width="100">
                <p><strong>${product.name}</strong> x ${product.quantity}</p>
                <p>Price: ${product.price}</p>
                <p>Total: $${productTotal.toFixed(2)}</p>
                <hr>
            </div>
        `;
    });

    summaryHtml += `<h3>Subtotal: $${total.toFixed(2)}</h3>`;
    summaryHtml += `<h3>Delivery Fee: $70.00</h3>`;
    summaryHtml += `<h2>Total Order: $${(total + 70).toFixed(2)}</h2>`;

    checkoutSummary.innerHTML = summaryHtml;
};
function sendOrderViaWhatsApp() {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    if (cart.length === 0) return;

    const name = document.getElementById('customer_name')?.value.trim();
    const address = document.getElementById('customer_address')?.value.trim();
    const payment = document.getElementById('payment_method')?.value;

    if (!name || !address || !payment) {
        alert("Please fill in all customer details.");
        return;
    }

    let message = `🛒 *Order Details*:\n\n👤 Name: ${name}\n🏠 Address: ${address}\n💳 Payment Method: ${payment}\n\n`;

    let total = 0;

    cart.forEach(product => {
        let price = parseFloat(product.price.replace('$', ''));
        let productTotal = price * product.quantity;
        total += productTotal;

        message += `🧾 *${product.name}* x ${product.quantity} - ${product.price}\n`;
        message += `🖼 Image: ${product.images[0]}\n\n`;
    });

    message += `🧾 *Subtotal:* $${total.toFixed(2)}\n`;
    message += `🚚 *Delivery Fee:* $70.00\n`;
    message += `💰 *Total:* $${(total + 70).toFixed(2)}\n\n`;
    message += `📦 *Please confirm the order.*`;

    let encodedMessage = encodeURIComponent(message);
    let whatsappNumber = "8698978100";
    let whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

    window.open(whatsappURL, "_blank");
}


</script>
</html>